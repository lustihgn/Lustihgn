<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Heart â€“ Soft Chaos Motion</title>
<style>
html,body{
  margin:0;
  background:#050505;
  overflow:hidden;
}
canvas{display:block;}
</style>
</head>
<body>
<canvas id="c"></canvas>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
addEventListener("resize", resize);
resize();

// ===== CONFIG =====
const PARTICLES = 8000;
const SCALE = 115;
// ==================

let points = [];
let t = 0;

function heart(x,y){
  const a = x*x + y*y - 1;
  return a*a*a - x*x*y*y*y;
}

function generate(){
  points = [];
  while(points.length < PARTICLES){
    let x = (Math.random()*2-1)*1.35;
    let y = (Math.random()*2-1)*1.35;

    if(heart(x,y)<=0){
      const d = Math.sqrt(x*x + y*y);
      if(Math.random() < Math.pow(d, 1.6)){
        points.push({
          x, y,
          r: 0.0034 + Math.random()*0.0022,
          phase: Math.random()*Math.PI*2,
          speed: 0.6 + Math.random()*0.6,   // âœ¨ má»—i háº¡t rung nhanh/cháº­m khÃ¡c nhau
          dir: Math.random()*Math.PI*2,     // âœ¨ hÆ°á»›ng loáº¡n riÃªng
          sparkle: Math.random() < (d > 0.75 ? 0.09 : 0.05),
          edge: d
        });
      }
    }
  }
}
generate();

function draw(){
  t += 0.03;

  ctx.clearRect(0,0,canvas.width,canvas.height);

  const pulse = 1 + Math.sin(t)*0.045;

  ctx.save();
  ctx.translate(canvas.width/2, canvas.height/2);
  ctx.scale(SCALE*pulse, -SCALE*pulse);

  for(const p of points){
    // ðŸŒª loáº¡n nháº¹ nhÆ°ng cÃ³ kiá»ƒm soÃ¡t
    const amp = 0.0022;
    const dx = Math.cos(p.dir + t*p.speed) * amp;
    const dy = Math.sin(p.dir + t*p.speed) * amp;

    let alpha = 0.5 + p.edge*0.28;
    if(p.sparkle){
      alpha += (Math.sin(t*2 + p.phase)+1)*0.17;
    }

    ctx.fillStyle = `rgba(255,165,205,${alpha})`;
    ctx.beginPath();
    ctx.arc(p.x + dx, p.y + dy, p.r, 0, Math.PI*2);
    ctx.fill();
  }

  ctx.restore();
  requestAnimationFrame(draw);
}
draw();
</script>
</body>
</html>


















